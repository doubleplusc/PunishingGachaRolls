function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=e.parcelRequire7423;null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return r[t]=i,e.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){a[t]=e},e.parcelRequire7423=i),i.register("bcFK1",(function(e,r){t(e.exports,"ConstructBanner",(()=>c)),t(e.exports,"WeaponBanner",(()=>o)),t(e.exports,"TranscendantBanner",(()=>p));var a=i("7x8Nx"),s=i("3ESMo");class n{bannerType;sixStarPity;currentSixStarPity;sixStarPityType;fiveStarPity;currentFiveStarPity;fiveStarPityType;rateUpPercent;rateUpSelection;rateUpCategory;currentRolls;constructor(t){this.bannerType=t,this.currentFiveStarPity=0,this.currentSixStarPity=0,this.rateUpPercent=70,this.rateUpCategory="",this.parseData()}parseData(){this.rateUpPercent=s.bannerData[this.bannerType].rateUpChance,this.rateUpCategory=s.bannerData[this.bannerType].rateUpCategory,this.sixStarPity=s.bannerData[this.bannerType].sixStarPity,this.fiveStarPity=s.bannerData[this.bannerType].fiveStarPity,this.fiveStarPityType=s.bannerData[this.bannerType].fiveStarPityType,this.sixStarPityType=s.bannerData[this.bannerType].sixStarPityType}roll10(){let t=document.createElement("div");for(let e=1;e<=10;e+=1){let e=this.roll1(),r=document.createElement("div");r.setAttribute("class",`${e.category} itemDisplay`);let a=document.createElement("img");a.setAttribute("src",`${e.drop.assetPath}`),a.setAttribute("class",`${e.category}`),r.appendChild(a),t.appendChild(r)}this.currentRolls=t,document.querySelector(".parent2").replaceChildren(...t.childNodes),pityCounter.innerText=`Pity: ${this.currentFiveStarPity} / ${this.currentSixStarPity}`}checkPity(t,e){"A"===t.rank&&"constructShard"!==e?this.currentFiveStarPity=0:"S"===t.rank&&"constructShard"!==e&&(this.currentFiveStarPity=0,this.currentSixStarPity=0),(this.currentFiveStarPity>this.fiveStarPity||this.currentSixStarPity>this.sixStarPity)&&alert("Pity had a nuclear meltdown. Please take a screenshot of the page and create an issue.")}roll1(){let t,e;return this.currentFiveStarPity++,this.currentSixStarPity++,this.currentSixStarPity===this.sixStarPity?(console.log("six star pity reached"),t=this.pickPity(this.sixStarPityType),e=this.sixStarPityType):this.currentFiveStarPity===this.fiveStarPity?(console.log("five star pity reached"),t=this.pickPity(this.fiveStarPityType),e=this.fiveStarPityType):(e=chance.weighted(s.dropTables[this.bannerType].items,s.dropTables[this.bannerType].rates),e===this.pityCategory||"bOrAConstruct"===e?(console.log(`Got lucky ${e} drop of rate up category, check rate up success`),t=this.pickPity(e)):e===this.fiveStarPityType||e===this.sixStarPityType?(console.log(`Got lucky ${e} drop not of rate up category, pick random`),t=this.pickPity(e)):t=a.database.pickOneFromCategory(e)),this.checkPity(t,e),{drop:t,category:e}}isSuccessRateUp(){return chance.natural({max:100})<=this.rateUpPercent}pickPityDrop(t,e){return a.database.pickOneFromCategory(e)}pickPity(t){if(t!==this.rateUpCategory&&"bOrAConstruct"!==t)return console.log(`${t} does not have rate up, skip`),a.database.pickOneFromCategory(t);let e=this.isSuccessRateUp();if("Select"!==this.rateUpSelection&&this.rateUpSelection&&e)return console.log(`Rateup ✅, picking rate up selection ${this.rateUpSelection}`),a.database.pickSpecificDrop(this.rateUpSelection,t);if("Select"!==this.rateUpSelection&&this.rateUpSelection&&!e){let e=this.pickPityDrop(!1,t);for(;e.name===this.rateUpSelection;)e=this.pickPityDrop(!1,t);return console.log(`Rateup ❌, picking ${e.name} instead of ${this.rateUpSelection}`),e}return console.log("No rate up, pick something random"),a.database.pickOneFromCategory(t)}clearStats(){this.currentSixStarPity=0,this.currentFiveStarPity=0}changeRateUpSelection({target:{value:t}}){let e=document.getElementById("select-target-image");this.rateUpSelection=t,"Select"!==t?(e.setAttribute("src",`${a.database.pickSpecificDrop(t,this.rateUpCategory).assetPath}`),e.style.opacity=100):(e.setAttribute("src",""),e.style.opacity=0)}switchIn(){const t=document.getElementById("select-target");this.targetSelectListener=this.changeRateUpSelection.bind(this),t.addEventListener("change",this.targetSelectListener),pityCounter.innerText=`Pity: ${this.currentFiveStarPity} / ${this.currentSixStarPity}`,this.populateBannerTargetSelect()}switchOut(){document.getElementById("select-banner");document.getElementById("select-target").removeEventListener("change",this.targetSelectListener)}populateBannerTargetSelect(){let t=[],e=document.createElement("option");if(e.text="Select",t.push(e.outerHTML),this.rateUpCategory)for(const r of a.database.getReferenceTable(this.rateUpCategory))e.text=r.frame,e.value=r.frame,t.push(e.outerHTML);const r=document.getElementById("select-target");r.options.length=0,r.innerHTML=t.join("\n"),this.changeRateUpSelection({target:{value:r.value}})}}class c extends n{constructor(t){super(t)}}class o extends n{constructor(t){super(t)}pickPityDrop(t,e){a.database.pickTargetedWeapon(t,this.rateUpSelection,e)}pickPity(t){let e=this.isSuccessRateUp();if("Select"!==this.rateUpSelection&&this.rateUpSelection&&e)return console.log(`Rateup ✅, picking rate up selection ${this.rateUpSelection}`),a.database.pickSpecificDrop(this.rateUpSelection,t);if("Select"!==this.rateUpSelection&&this.rateUpSelection&&!e){let e=this.pickPityDrop(!1,t);for(;e.name===this.rateUpSelection;)e=this.pickPityDrop(!1,t);return console.log(`Rateup ❌, picking ${e.name} instead of ${this.rateUpSelection}`),e}return console.log("No rate up, pick something random"),a.database.pickOneFromCategory(t)}checkPity(t,e){"fiveStarWeapon"===e?this.currentFiveStarPity=0:"sixStarWeapon"===e&&(this.currentFiveStarPity=0,this.currentSixStarPity=0),(this.currentFiveStarPity>this.fiveStarPity||this.currentSixStarPity>this.sixStarPity)&&alert("Pity had a nuclear meltdown. Please take a screenshot of the page and create an issue.")}}class p extends n{constructor(t){super(t)}}})),i.register("7x8Nx",(function(e,r){t(e.exports,"database",(()=>n));var a=i("3ESMo"),s=i("290LY");const n=new class{lookupTable;constructor(){this.generateLookupTable()}categoryToClass(t){switch(t){case"bOrAConstruct":return s.BOrAConstructSelector;case"constructShard":return s.ConstructShardSelector;case"bConstruct":case"aConstruct":case"sConstruct":case"transcendant":return s.ConstructSelector;case"sixStarWeapon":case"fiveStarWeapon":case"fourStarWeapon":case"threeStarWeapon":case"twoStarWeapon":return s.WeaponSelector;case"cogs":case"exp":case"overclock":case"fourStarEquipment":return s.ItemSelector;default:console.log(`categoryToClass: ${t} is not a valid category. Please create an issue.`)}}generateLookupTable(){this.lookupTable={};for(const t in a.dropTables)a.dropTables[t].items.forEach((t=>{t in this.lookupTable||(this.lookupTable[`${t}`]=new(this.categoryToClass(t))(t))}))}pickOneFromCategory(t){try{return this.lookupTable[t].pickOneFromCategory()}catch(e){console.log(t,e)}}pickSpecificDrop(t,e){try{return this.lookupTable[e].pickSpecificDrop(t)}catch(t){console.log(e,t)}}getReferenceTable(t){return this.lookupTable[t].getReferenceTable()}pickTargetedWeapon(t,e,r){return this.this.lookupTable[r].pickTargetedWeapon(t,e,r)}}})),i.register("290LY",(function(e,r){t(e.exports,"ConstructSelector",(()=>n)),t(e.exports,"BOrAConstructSelector",(()=>c)),t(e.exports,"ConstructShardSelector",(()=>o)),t(e.exports,"WeaponSelector",(()=>p)),t(e.exports,"ItemSelector",(()=>l));var a=i("3ESMo");class s{dataTable;category;constructor(t){this.category=t}generateCustomList(){}getReferenceTable(){return this.dataTable[this.category]}packReturnObject(t){return{name:t.name,assetPath:`${this.dataTable.assetPath}${t.name}.png`,rank:t.rank}}pick(){return chance.pickone(this.getReferenceTable())}pickOneFromCategory(){let t=this.pick();return this.packReturnObject(t)}pickSpecificDrop(t){let e=this.getReferenceTable().find((e=>e.frame===t));return this.packReturnObject(e)}}class n extends s{constructor(t){super(t),this.dataTable=a.unitData}packReturnObject(t){return{name:t.frame,assetPath:`${this.dataTable.assetPath}${t.frame}.png`,rank:t.rank}}}class c extends n{list;constructor(t){super(t),this.generateCustomList()}generateCustomList(){this.list=[],this.list.push(...a.unitData.bConstruct,...a.unitData.aConstruct)}getReferenceTable(){return this.list}}class o extends n{list;constructor(t){super(t),this.generateCustomList()}generateCustomList(){this.list=[],this.list.push(...a.unitData.bConstruct,...a.unitData.aConstruct,...a.unitData.sConstruct)}getReferenceTable(){return this.list}}class p extends s{constructor(t){super(t),this.dataTable=a.weaponData}packReturnObject(t){if("sixStarWeapon"===this.category)for(const[e,r]of Object.entries(t))t=t[e][0];return console.log(`WeaponSelector returning object ${t} path ${this.dataTable.assetPath}${t}.png}`),{name:t,assetPath:`${this.dataTable.assetPath}${t}.png`}}pickSpecificDrop(t,e,r){let a=this.getReferenceTable[e];return a="fiveStarWeapon"===r?a[3]:t?a[0]:a[chance.integer({min:1,max:2})],console.log(`WeaponSelector returning object ${a} path ${this.dataTable.assetPath}${a}.png}`),{name:a,assetPath:`${this.dataTable.assetPath}${a}.png`}}}class l extends s{constructor(t){super(t),this.dataTable=a.itemData}packReturnObject(t){return{name:t,assetPath:`${this.dataTable.assetPath}${t}.png`}}}})),i("bcFK1");
//# sourceMappingURL=index.b8864b44.js.map
