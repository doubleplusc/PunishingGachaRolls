{"mappings":"AAAA,MAAMA,OACJC,WAEAC,YAEAC,mBAEAC,gBAEAC,aAEAC,oBAEAC,iBAEAC,cAEAC,gBAEAC,aAEAC,YAAYV,GACVW,KAAKX,WAAaA,EAClBW,KAAKC,YACLD,KAAKP,aAAe,GACpBO,KAAKN,oBAAsB,EAC3BM,KAAKL,iBAAmB,aACxBK,KAAKV,YAAc,GACnBU,KAAKT,mBAAqB,EAC1BS,KAAKR,gBAAkB,aAGzBS,YACED,KAAKJ,cAAgBM,WAAWF,KAAKX,YAAYc,aACjDH,KAAKT,mBAAqB,EAC1BS,KAAKN,oBAAsB,EAG7BU,SACE,IAAIC,EAASC,SAASC,cAAc,OACpC,IAAK,IAAIC,EAAM,EAAGA,GAAO,GAAIA,GAAO,EAAG,CAErC,IAAIC,EAAUT,KAAKU,QACfC,EAAWL,SAASC,cAAc,OACtCI,EAASC,aAAa,QAAS,GAAGH,EAAQI,wBAC1C,IAAIC,EAAYR,SAASC,cAAc,OACvCO,EAAUF,aAAa,MAAO,GAAGH,EAAQM,KAAKC,aAC9CF,EAAUF,aAAa,QAAS,GAAGH,EAAQI,YAC3CF,EAASM,YAAYH,GACrBT,EAAOY,YAAYN,GAErBX,KAAKF,aAAeO,EACJC,SAASY,cAAc,YAC7BC,mBAAmBd,EAAOe,YAEtCC,UAAUN,EAAMF,GAEG,MAAdE,EAAKO,MAA6B,mBAAbT,EACtBb,KAAKN,oBAAsB,EAEP,MAAdqB,EAAKO,MAA6B,mBAAbT,IAC3Bb,KAAKN,oBAAsB,EAC3BM,KAAKT,mBAAqB,GAG9BmB,QACE,IAAIK,EACAF,EAmBJ,OAlBAb,KAAKN,sBACLM,KAAKT,qBACFS,KAAKN,sBAAwBM,KAAKP,cACnCsB,EAAOQ,SAASC,4BAA4BxB,KAAKL,kBACjDkB,EAAWb,KAAKL,kBAEVK,KAAKT,qBAAuBS,KAAKV,aACvCyB,EAAOQ,SAASC,4BAA4BxB,KAAKR,iBACjDqB,EAAWb,KAAKR,kBAGhBqB,EAAWY,OAAOC,SAChBC,WAAW3B,KAAKX,YAAYuC,MAC5BD,WAAW3B,KAAKX,YAAYwC,OAE9Bd,EAAOQ,SAASO,oBAAoBjB,IAEtCb,KAAKqB,UAAUN,EAAMF,GACd,CAAEE,KAAAA,EAAMF,SAAAA,GAGjBkB,WAEE,OAAON,OAAOO,QAAQ,CAAEC,IAAK,EAAGC,IAAK,IAGvCC,aACEnC,KAAKT,mBAAqB,EAC1BS,KAAKN,oBAAsB,EAG7B0C,sBAAsBC","sources":["src/Banner.js"],"sourcesContent":["class Banner {\n  bannerType;\n\n  sixStarPity; // either S rank or 6* weapon\n\n  currentSixStarPity;\n\n  sixStarPityType;\n\n  fiveStarPity; // either A rank or 5* weapon\n\n  currentFiveStarPity;\n\n  fiveStarPityType;\n  \n  rateUpPercent;\n\n  rateUpSelection;\n\n  currentRolls;\n\n  constructor(bannerType) {\n    this.bannerType = bannerType;\n    this.parseData();\n    this.fiveStarPity = 10;\n    this.currentFiveStarPity = 0;\n    this.fiveStarPityType = 'aConstruct';\n    this.sixStarPity = 60;\n    this.currentSixStarPity = 0;\n    this.sixStarPityType = `sConstruct`;\n  }\n\n  parseData() {\n    this.rateUpPercent = bannerData[this.bannerType].rateUpChance;\n    this.currentSixStarPity = 0;\n    this.currentFiveStarPity = 0;\n  }\n\n  roll10() {\n    let parent = document.createElement(`div`);\n    for (let ind = 1; ind <= 10; ind += 1) {\n      // use a map on currentRolls with roll1\n      let dropObj = this.roll1();\n      let imageDiv = document.createElement(`div`);\n      imageDiv.setAttribute(`class`, `${dropObj.category} itemDisplay`);\n      let dropImage = document.createElement(`img`);\n      dropImage.setAttribute(`src`, `${dropObj.drop.assetPath}`);\n      dropImage.setAttribute(`class`, `${dropObj.category}`);\n      imageDiv.appendChild(dropImage);\n      parent.appendChild(imageDiv);\n    }\n    this.currentRolls = parent;\n    let domParent = document.querySelector(`.parent2`);\n    domParent.replaceChildren(...parent.childNodes);\n  }\n  checkPity(drop, category){\n    //need to override for weapon and transcendant banners\n    if(drop.rank === `A` && category !== `constructShard`){\n      this.currentFiveStarPity = 0;\n    }\n    else if(drop.rank === `S` && category !== `constructShard`){\n      this.currentFiveStarPity = 0;\n      this.currentSixStarPity = 0;\n    }\n  }\n  roll1() {\n    let drop;\n    let category;\n    this.currentFiveStarPity++;\n    this.currentSixStarPity++;\n    if(this.currentFiveStarPity === this.fiveStarPity){\n      drop = database.pickOneFromSpecificCategory(this.fiveStarPityType);\n      category = this.fiveStarPityType;\n    }\n    else if(this.currentSixStarPity === this.sixStarPity){\n      drop = database.pickOneFromSpecificCategory(this.sixStarPityType);\n      category = this.sixStarPityType;\n    }\n    else{\n      category = chance.weighted(\n        dropTables[this.bannerType].items,\n        dropTables[this.bannerType].rates\n      );\n      drop = database.pickOneFromCategory(category);\n    }\n    this.checkPity(drop, category);\n    return { drop, category };\n  }\n\n  pickPity() {\n    // 0 for onbanner selection, 1 for offrate1, 2 for offrate2\n    return chance.integer({ min: 0, max: 2 });\n  }\n\n  clearStats() {\n    this.currentSixStarPity = 0;\n    this.currentFiveStarPity = 0;\n  }\n\n  changeRateUpSelection(selection) {}\n}\n"],"names":["Banner","bannerType","sixStarPity","currentSixStarPity","sixStarPityType","fiveStarPity","currentFiveStarPity","fiveStarPityType","rateUpPercent","rateUpSelection","currentRolls","constructor","this","parseData","bannerData","rateUpChance","roll10","parent","document","createElement","ind","dropObj","roll1","imageDiv","setAttribute","category","dropImage","drop","assetPath","appendChild","querySelector","replaceChildren","childNodes","checkPity","rank","database","pickOneFromSpecificCategory","chance","weighted","dropTables","items","rates","pickOneFromCategory","pickPity","integer","min","max","clearStats","changeRateUpSelection","selection"],"version":3,"file":"index.2bc20ff4.js.map"}